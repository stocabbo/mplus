
<!DOCTYPE html>
<html lang="it">
<head>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="192x192" href="icon-192.png">
  <link rel="manifest" href="manifest.json">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calcolo Giornaliero MPLUS</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link rel="manifest" href="manifest.json">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#007aff">
  <link rel="apple-touch-startup-image" href="apple-splash-1170x2532.png"
    media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3)">
</head>
<body>
  <div class="phone">
    <h1>Calcolo Giornaliero MPLUS</h1>

    <div class="input-group">
      <label for="ora_ingresso">Ora ingresso (HH:MM)</label>
      <input type="time" id="ora_ingresso">
    </div>

    <div class="toggle-group">
      <label class="switch">
        <input type="checkbox" id="toggle_giornata">
        <span class="slider"></span>
      </label>
      <span id="toggle_label">Corta</span>
    </div>

    <div id="output" class="result-cards"></div>
<div style="margin-top:16px;height:24px;width:100%;background:#ddd;border-radius:6px;overflow:hidden;position:relative;">
  <div id="countdown_bar" style="height:100%;width:0;background:#007aff;transition:width 1s linear;"></div>
  <div id="countdown" style="position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;font-weight:500;font-size:14px;color:#000;"></div>
</div>
<div id="countdown" style="text-align:center;margin-top:10px;font-weight:500;font-size:16px;"></div>
  </div>

  <script src="script.js"></script>
<audio id="ping" src="ping.mp3" preload="auto"></audio>

<div id="onboarding" class="onboarding">
  <div class="onboarding-slide active">
    <h2>Benvenuto in MPLUS</h2>
    <p>Calcola facilmente l'orario di uscita ottimale.</p>
    <button onclick="prossimaSlide()">Avanti</button>
  </div>
  <div class="onboarding-slide">
    <h2>Orari intelligenti</h2>
    <p>Ottieni il Buono Pasto o accumula minuti in modo strategico.</p>
    <button onclick="prossimaSlide()">Avanti</button>
  </div>
  <div class="onboarding-slide">
    <h2>Regole rapide</h2>
    <ul>
      <li>✅ BP con almeno 6h01m</li>
      <li>↪︎ Accumulo max 29 min</li>
      <li>⛔ Mai oltre le 19:30</li>
    </ul>
    <button onclick="chiudiOnboarding()">Avvia MPLUS</button>
  </div>
</div>


<script>
  document.addEventListener("DOMContentLoaded", () => {
    const input = document.getElementById("ora_ingresso");
    if (input && !input.value) {
      const now = new Date();
      const hh = String(now.getHours()).padStart(2, '0');
      const mm = String(now.getMinutes()).padStart(2, '0');
      input.value = `${hh}:${mm}`;
    }
  });
</script>

</body>
</html>
